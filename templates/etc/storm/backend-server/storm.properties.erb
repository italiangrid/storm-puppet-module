# StoRM Backend configuration file
# WARNING: This file is auto-generated by puppet!

srm_public_host=<%= scope.lookupvar('storm::backend::srm_public_host') %>
srm_public_port=<%= scope.lookupvar('storm::backend::srm_public_port') %>
<%-
@srm_endpoints=[]
scope.lookupvar('storm::backend::srm_pool_members').each do | member |
  @port=member['port'] != nil ? member['port'] : scope.lookupvar('storm::backend::srm_public_port')
  @srm_endpoints.push("#{member['hostname']}:#{@port}")
end
-%>
srm_endpoints=<%= @srm_endpoints.join(',') %>

db_username=<%= scope.lookupvar('storm::backend::db_username') %>
db_password=<%= scope.lookupvar('storm::backend::db_password') %>
db_hostname=<%= scope.lookupvar('storm::backend::db_hostname') %>
db_port=<%= scope.lookupvar('storm::backend::db_port') %>
db_properties=<%= scope.lookupvar('storm::backend::db_properties') %>

db_pool_size=<%= scope.lookupvar('storm::backend::db_pool_size') %>
db_pool_min_idle=<%= scope.lookupvar('storm::backend::db_pool_min_idle') %>
db_pool_max_wait_millis=<%= scope.lookupvar('storm::backend::db_pool_max_wait_millis') %>
db_pool_test_on_borrow=<%= scope.lookupvar('storm::backend::db_pool_test_on_borrow') %>
db_pool_test_while_idle=<%= scope.lookupvar('storm::backend::db_pool_test_while_idle') %>

rest_services_port=<%= scope.lookupvar('storm::backend::rest_services_port') %>
rest_services_max_threads=<%= scope.lookupvar('storm::backend::rest_services_max_threads') %>
rest_services_max_queue_size=<%= scope.lookupvar('storm::backend::rest_services_max_queue_size') %>

sanity_check_enabled=<%= scope.lookupvar('storm::backend::sanity_check_enabled') %>

du_service_enabled=<%= scope.lookupvar('storm::backend::du_service_enabled') %>
du_service_initial_delay=<%= scope.lookupvar('storm::backend::du_service_initial_delay') %>
du_service_tasks_interval=<%= scope.lookupvar('storm::backend::du_service_tasks_interval') %>
du_service_parallel_tasks_enabled=<%= scope.lookupvar('storm::backend::du_service_parallel_tasks_enabled') %>

xmlrpc_server_port=<%= scope.lookupvar('storm::backend::xmlrpc_server_port') %>
xmlrpc_max_threads=<%= scope.lookupvar('storm::backend::xmlrpc_max_threads') %>
xmlrpc_max_queue_size=<%= scope.lookupvar('storm::backend::xmlrpc_max_queue_size') %>
xmlrpc_security_enabled=<%= scope.lookupvar('storm::backend::xmlrpc_security_enabled') %>
xmlrpc_security_token=<%= scope.lookupvar('storm::backend::xmlrpc_security_token') %>

<%- scope.lookupvar('storm::backend::advanced_properties').each do | key,value | -%>
<%= key %>=<%= value %>
<%- end -%>